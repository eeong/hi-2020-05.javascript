<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="../css/bootstrap.min.css">
	<style>
		.stage{ border: 10px solid red; width: 520px; height: 320px; overflow: hidden;}
		.wrap{width: 300%; height: 100%; position: relative; display: flex;}
		.slide{flex:33.3333% 0 0;}
		.wrap > :nth-child(1){background-color: rgb(50, 50, 243);}
		.wrap > :nth-child(4){background-color: rgb(50, 50, 243);}
		.wrap > :nth-child(2){background-color: rgb(241, 64, 64);}
		.wrap > :nth-child(3){background-color: rgb(170, 170, 58);}
	</style>
	<script src="../js/jquery-3.5.1.min.js"></script>
	<script src="../js/jquery.touchSwipe.min.js"></script>
</head>
<body>
	<div class="stage">
		<div class="wrap wrap1">
			<div class="slide">
				<h1>Slide#1</h1>
			</div>
			<div class="slide">
				<h1>Slide#2</h1>
			</div>
			<div class="slide">
				<h1>Slide#3</h1>
			</div>
		</div>
		
	</div>
	<div class="stage">
		<div class="wrap wrap2">
			<div class="slide">
				<h1>Slide#1</h1>
			</div>
			<div class="slide">
				<h1>Slide#2</h1>
			</div>
			<div class="slide">
				<h1>Slide#3</h1>
			</div>
			<div class="slide">
				<h1>Slide#1</h1>
			</div>
		</div>
		
	</div>
	<script>
		(function (){var now = 0;
		 $(".wrap1").swipe( {
        //Generic swipe handler for all directions
        swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
					console.log(direction,distance,duration,fingerCount,fingerData);  
					if(direction == "left" && now <2){
						//next 
						now++;
						ani();
					}
					if(direction == "right" && now > 0){
						//prev
						now--;
						ani();
					}
        }
			 });
			 
			 function ani(){
				 $(".wrap2").stop().animate({"left": -now*100 + "%"},500);
			 }})();

			 (function (){var now = 0;
		 $(".wrap2").swipe( {
        //Generic swipe handler for all directions
        swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
					console.log(direction,distance,duration,fingerCount,fingerData);  
					if(direction == "left"){
						//next 
						now++;
						ani();
					}
					if(direction == "right"){
						//prev
						if(now == 0) {$(".wrap2").css("left","-300%"); 
					now = 2;}
					else now--;
						ani();
					}
        }
       });
			 function ani(){
				 $(".wrap2").stop().animate({"left": -now*100 + "%"},500,function(){
					 if(now == 3){
						$(this).css("left",0);
						now = 0;
					 } 
				 });
			 }})();



		
	</script>
</body>
</html>